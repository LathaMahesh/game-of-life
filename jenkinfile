pipeline{
    agent{label 'HRMS&&QA'}
    triggers { cron ('30 * * * 1-5')}
    parameters { 
        string(name: 'testresult', defaultValue: '/target/*', description: 'Test result path') 
        choice (name: 'BranchtoBuild', choices: ['master', 'DeclarativePipeline', 'ScriptedPipeline'], description: 'Branch to Build') 
    }
    stages {
        stage('git'){
            steps {
                git branch: "${params.BranchtoBuild}", url: 'https://github.com/LathaMahesh/game-of-life.git'   
            }
        }
        stage('compile'){
            steps {
                 sh ' mvn compile'

            } 
        }
        stage('postbuild') {
            steps {
                // junit test Results
                junit testResults: "${params.testresult}"

               
            }
        }       
    
    }
}